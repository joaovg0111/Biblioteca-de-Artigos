<!-- COPIE E COLE O CONTEÚDO COMPLETO PARA: templates/admin/articles/bulk_upload.html -->

{% extends "admin/base_site.html" %}
{% load i18n static %}

{% block extrastyle %}{{ block.super }}
<style>
    .form-row { padding: 10px; font-size: 13px; }
    .form-row label { display: block; margin-bottom: 5px; font-weight: bold; }
    .submit-row { padding: 10px; background: #f8f8f8; border-top: 1px solid #ddd; border-bottom: 1px solid #ddd; }
    .checkbox-label { display: flex; align-items: center; gap: 8px; }
    .checkbox-label input { margin-top: 0; }
</style>
{% endblock %}

{% block coltype %}colM{% endblock %}
{% block bodyclass %}{{ block.super }} app-{{ opts.app_label }} model-{{ opts.model_name }} change-form{% endblock %}

{% if not is_popup %}
{% block breadcrumbs %}
<div class="breadcrumbs">
<a href="{% url 'admin:index' %}">{% trans 'Home' %}</a>
&rsaquo; <a href="{% url 'admin:app_list' app_label=opts.app_label %}">{{ opts.app_config.verbose_name }}</a>
&rsaquo; <a href="{% url 'admin:articles_article_changelist' %}">{{ opts.verbose_name_plural|capfirst }}</a>
&rsaquo; {{ title }}
</div>
{% endblock %}
{% endif %}

{% block content %}
<div id="content-main">
    <p class="mb-4">
<<<<<<< HEAD
        Selecione um arquivo <code>.bib</code> para importar múltiplos artigos. Opcionalmente, envie um arquivo <code>.zip</code> com os PDFs correspondentes.
=======
        Selecione um arquivo <code>.bib</code> <strong>OU</strong> cole o conteúdo BibTeX abaixo para importar múltiplos artigos.
>>>>>>> 5042e0d (entrega final)
    </p>

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        {% if form.non_field_errors %}
            <p class="errornote">{{ form.non_field_errors|join:", " }}</p>
        {% endif %}
        
        <fieldset class="module aligned">
            <div class="form-row">
                {{ form.bibtex_file.label_tag }}
                {{ form.bibtex_file }}
                {% if form.bibtex_file.errors %}<div class="errors">{{ form.bibtex_file.errors }}</div>{% endif %}
            </div>
            <div class="form-row">
                {{ form.bibtex_text.label_tag }}
                {{ form.bibtex_text }}
                {% if form.bibtex_text.errors %}<div class="errors">{{ form.bibtex_text.errors }}</div>{% endif %}
            </div>
             <div class="form-row">
                <label class="checkbox-label">
                    {{ form.ignore_missing_fields }}
                    <span>{{ form.ignore_missing_fields.label }}</span>
                </label>
                {% if form.ignore_missing_fields.errors %}<div class="errors">{{ form.ignore_missing_fields.errors }}</div>{% endif %}
            </div>
            <div class="form-row">
                {{ form.pdf_zip_file.label_tag }}
                {{ form.pdf_zip_file }}
                {% if form.pdf_zip_file.help_text %}
                    <div class="help">{{ form.pdf_zip_file.help_text|safe }}</div>
                {% endif %}
                {% if form.pdf_zip_file.errors %}
                    <div class="errors">{{ form.pdf_zip_file.errors }}</div>
                {% endif %}
            </div>
        </fieldset>

        <div class="submit-row">
            <input type="submit" value="Importar Artigos" class="default">
        </div>
    </form>
</div>
{% endblock %}